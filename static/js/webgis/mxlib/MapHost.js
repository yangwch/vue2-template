/**
* @fileoverview 元图地图控件宿主接口文件，对外开放。
*
* @author Metamap Map Api Group
*/
/**
* @namespace 所有library类均放在mxLib命名空间下
*/var mxLib=window.mxLib=mxLib||{},MxHost=MxHost||{};mxLib.MxHost=MxHost;var MvListHost=MvListHost||{};mxLib.MvListHost=MvListHost;var MvHost=MvHost||{};mxLib.MvHost=MvHost;window.MX_EntAtt_kAttDefault=2147483647;window.MX_EntAtt_kEntName=1;window.MX_EntAtt_kEntHandle=2;window.MX_EntAtt_kLayer=4;window.MX_EntAtt_kColor=8;window.MX_EntAtt_kLineType=16;window.MX_EntAtt_kLineWeight=32;window.MX_EntAtt_kObjAtt=64;window.MX_EntAtt_kExtent=128;window.MX_EntAtt_kDic=256;window.MX_LayerAtr_kLayerDefault=2147483647;window.MX_LayerAtr_kLayerName=1;window.MX_LayerAtr_kIsOff=2;window.MX_LayerAtr_kLayerColor=4;window.MX_LayerAtr_kLayerLineType=8;window.MX_LayerAtr_kLayerLineWeight=16;window.MX_LayerAtr_kIsLock=32;window.MX_LayerAtr_kIsFroze=64;window.MX_EntType_kTypeDefault=2147483647;window.MX_EntType_kLine=1;window.MX_EntType_kPolyline=2;window.MX_EntType_kCircle=4;window.MX_EntType_kEclipse=8;window.MX_EntType_kArc=16;window.MX_EntType_kRay=32;window.MX_EntType_kSpline=64;window.MX_EntType_kHatch=128;window.MX_EntType_kBlockRef=256;window.MX_EntType_kAttRef=512;window.MX_EntType_kText=1024;window.MX_EntType_kMText=2048;window.MX_ScrollBar_AsNeeded=0;window.MX_ScrollBar_AlwaysOff=1;window.MX_ScrollBar_AlwaysOn=2;window.MV_ATTR_DBCLICKNOPANMAP="MV_ATTR_DBCLICKNOPANMAP";window.MV_ATTR_DBCCLKPANMAPNOFIT="MV_ATTR_DBCCLKPANMAPNOFIT";window.MV_ATTR_DWG_TRANSPARENT="MV_ATTR_DWG_TRANSPARENT";window.MV_ATTR_DWG_POINTEREVENTS="MV_ATTR_DWG_POINTEREVENTS";window.MV_ATTR_DWG_ANIMATION="MV_ATTR_DWG_ANIMATION";window.MV_ATTR_DWG_LEFTPAN="MV_ATTR_DWG_LEFTPAN";window.MX_ATTR_LEFTPAN="MX_ATTR_LEFTPAN";window.MX_MSGTYPE_INFO=0;window.MX_MSGTYPE_SUCCESS=1;window.MX_MSGTYPE_WARN=2;window.MX_MSGTYPE_ERROR=3;window.g_mapContainer_img_path={};function UpdateDwgImg(b,a){var d=document.getElementById("mc_"+b);d?(""==a&&(a=g_mapContainer_img_path.id),a&&(d.style.backgroundImage=a),delete g_mapContainer_img_path.id):g_mapContainer_img_path.id=a}window.scriptBaseDir="";window.scriptElements=document.getElementsByTagName("script");for(var _se=0;_se<scriptElements.length;_se++){var scriptElement=scriptElements[_se];if(scriptElement.getAttribute){var src=scriptElement.getAttribute("src");if(src&&0<=src.indexOf("mxlib/MapHost.js")){scriptBaseDir=src.substring(0,src.indexOf("mxlib/MapHost.js"));-1==scriptBaseDir.indexOf("%")&&(scriptBaseDir=encodeURI(scriptBaseDir));break}}}function linkcss(b){document.write('\x3clink rel\x3d"stylesheet" type\x3d"text/css" href\x3d"'+b+'"/\x3e')}function include(b){document.write('\x3cscript  src\x3d"'+b+'"\x3e\x3c/script\x3e')}function includejs(b){var a=document.createElement("script");a.type="text/javascript";a.src=scriptBaseDir+b;document.body.parentNode.appendChild(a)}function getWebLocationPath(){return 0<arguments.length&&!0===arguments[1]?window.document.location.href:decodeURIComponent(window.document.location.href)}function getWebRootPath(){var b=window.document.location.href,a=window.document.location.pathname,d=b.indexOf(a),b=b.substring(0,d),a=a.substring(0,a.substr(1).indexOf("/")+1),a=decodeURIComponent(b+a);-1!=a.indexOf("file:///")&&(b=window.document.location.href,d=b.lastIndexOf("/"),a=decodeURIComponent(b.substring(0,d)));return a}var domLoadedIncludeSrcArr=[];function domLoadedInclude(b){domLoadedIncludeSrcArr.push(b)}var bDomContentLoadedFuncDone=!1;function DomContentLoadedFunc(b){function a(b){d++;var e=document.createElement("script");e.type="text/javascript";e.src=b;e.onerror=e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!==e.readyState&&"complete"!==e.readyState||(d<domLoadedIncludeSrcArr.length?a(domLoadedIncludeSrcArr[d]):MvHost&&MvHost.CallOutCommand&&MvHost.CallOutCommand("DomAndScriptLoaded",""),e.onload=e.onreadystatechange=null)};document.body&&document.body.parentNode&&document.body.parentNode.appendChild(e)}if(!bDomContentLoadedFuncDone&&(bDomContentLoadedFuncDone=!0,"true"!=mxLib.View.getExtData("DemoMode"))){var d=0;0<domLoadedIncludeSrcArr.length?a(domLoadedIncludeSrcArr[d]):MvHost&&MvHost.CallOutCommand&&MvHost.CallOutCommand("DomAndScriptLoaded","")}}var docAddEventListener=document.addEventListener||document.attachEvent;document.addEventListener?document.addEventListener("DOMContentLoaded",DomContentLoadedFunc,!1):document.attachEvent("onreadystatechange",DomContentLoadedFunc);window.onerror=function(b,a,d){mxLib.Util?mxLib.Util.toastError(b+"\x3cbr/\x3e"+a+"\x3cbr/\x3e\u884c\u6570:"+d,{delay:3E4,allowDismiss:!0}):alert(b+"\x3cbr/\x3e"+a+"\x3cbr/\x3e\u884c\u6570:"+d)};window.bSupportHtml5=!0;window.bIsMsIe6=!1;if("Microsoft Internet Explorer"==navigator.appName&&"7."==navigator.appVersion.match(/7./i))bSupportHtml5=!1;else if("Microsoft Internet Explorer"==navigator.appName&&"8."==navigator.appVersion.match(/8./i))bSupportHtml5=!1;else if(0<navigator.userAgent.indexOf("MSIE 6.0"))bSupportHtml5=!1,bIsMsIe6=!0;else{var canvas=document.createElement("canvas");canvas&&canvas.getContext||(bSupportHtml5=!1)}bSupportHtml5||(include(scriptBaseDir+"mxlib/iehtml5/html5.js"),include(scriptBaseDir+"mxlib/iehtml5/excanvas.compiled.js"),include(scriptBaseDir+"mxlib/iehtml5/raphael.js"),Array.prototype.indexOf||(Array.prototype.indexOf=function(b,a){var d=this.length>>>0,c=Number(a)||0,c=0>c?Math.ceil(c):Math.floor(c);for(0>c&&(c+=d);c<d;c++)if(c in this&&this[c]===b)return c;return-1}));window.bIsMobile=function(){return navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?!0:!1}();window.bIsMobile&&include(scriptBaseDir+"mxlib/mobile/hammer.min.js");function ConsoleDebug(b){setTimeout(function(){if(b)mxLib.MvHost.EvaluateJavaScript(b);else{var a=prompt("Input JavaScript:","");""!=a&&mxLib.MvHost.EvaluateJavaScript(a)}},10)}(function(){var b=mxLib.View={};b.interId=function(){return mxLib.MvHost.Id()};b.wndHandle=function(){return mxLib.MvHost.WinHandle()};b.getViewName=function(){return mxLib.MvHost.ViewName()};b.openDwg=function(a){return mxLib.MvHost.OpenDwg(a)};b.openUrl=function(a){return mxLib.MvHost.OpenUrl(a)};b.setHtml=function(a,b){return mxLib.MvHost.SetHtml(a,b)};b.runCmd=function(a){return mxLib.MvHost.RunCmd(a)};b.isVisible=function(){return mxLib.MvHost.IsVisible()};b.getLeft=function(){return mxLib.MvHost.GetLeft()};b.getRight=function(){return mxLib.MvHost.GetRight()};b.getWidth=function(){return mxLib.MvHost.GetWidth()};b.getHeight=function(){return mxLib.MvHost.GetHeight()};b.setGeometry=function(a,b,c,e){return mxLib.MvHost.SetGeometry(a,b,c,e)};b.setExtData=function(a,b){mxLib.MvHost&&mxLib.MvHost.SetData?mxLib.MvHost.SetData(a,b):(this.extData||(this.extData={}),this.extData[a]=b)};b.getExtData=function(a){return mxLib.MvHost&&mxLib.MvHost.GetData?mxLib.MvHost.GetData(a):this.extData?this.extData[a]:""};b.hasExtDataKey=function(a){return mxLib.MvHost.HasKey(a)};b.getExtDataKeys=function(a){return mxLib.MvHost.GetDataKeyListString(a)};b.removeExtDataKey=function(a){return mxLib.MvHost.RemoveDataKey(a)};b.evaluateJavaScript=function(a){return mxLib.MvHost.EvaluateJavaScript(a)};b.callOutCommand=function(a,b){mxLib.MvHost.CallOutCommand&&mxLib.MvHost.CallOutCommand(a,b)};b.jsDebugger=function(a){return mxLib.MvHost.JsDebugger(a||0,!1)};b.refresh=function(){return mxLib.MvHost.Refresh()};b.setupDirectory=function(){return mxLib.MvHost.GetWorkDirectory()};b.setScrollBarPolicy=function(a,b){mxLib.MvHost.SetScrollBarPolicy(a,b)};b.setActiveDwgViewerID=function(a){return mxLib.MvHost.SetActiveDwgViewerID(a)};b.setWheelEnableExceptMapZoom=function(a){return mxLib.MvHost.SetWheelEnableExceptMapZoom(a)};b=mxLib.ViewList={};b.getCount=function(){return mxLib.MvListHost.Count()};b.addView=function(a){return mxLib.MvListHost.AddView(a)};b.getViewByItemId=function(a){return mxLib.MvListHost.ItemId(a)};b.getViewByItemIndex=function(a){return mxLib.MvListHost.ItemIndex(a)};b.getViewByItemName=function(a){return mxLib.MvListHost.ItemName(a)};b.delView=function(a){return mxLib.MvListHost.DelView(a)};b.delViewById=function(a){return mxLib.MvListHost.DelViewById(a)};b.delViewByIndex=function(a){return mxLib.MvListHost.DelViewByIndex(a)};b.delViewByName=function(a){return mxLib.MvListHost.DelViewByName(a)};b=mxLib.Ax={};b.openDwg=function(a,b,c){return mxLib.MxHost.OpenDwg(a,b||!1,c||"")};b.openUrl=function(a,b,c){return mxLib.MxHost.OpenUrl(a,b||!1,c||"")};b.viewList=function(){return mxLib.MxHost.ViewList()};b.curVisibleView=function(){return mxLib.MxHost.CurVisibleView()};b.runCmd=function(a){return mxLib.MxHost.RunCmd(a)};b.getLastError=function(){return mxLib.MxHost.GetLastError()};b.setLayoutType=function(a){mxLib.MxHost.SetLayoutType(a)};b.setRollTime=function(a){mxLib.MxHost.setRollTime(a)};b.setBackColor=function(a){mxLib.MxHost.SetBackColor(a)};b.setViewBackColor=function(a){mxLib.MxHost.SetViewBackColor(a)};b.setWebRootPath=function(a){mxLib.MxHost.SetWebRootPath(a)};b.getWebRootPath=function(){return mxLib.MxHost.GetWebRootPath()};b.setMapScriptPath=function(a){mxLib.MxHost.SetMapScriptPath(a)};b.getMapScriptPath=function(){return mxLib.MxHost.GetMapScriptPath()};b.getWorkDirectory=function(){return mxLib.MxHost.GetWorkDirectory()};b.newAxObject=function(a){return mxLib.MxHost.NewAxObject(a)};b.dynamicCall=function(a,b){if(2==arguments.length)return mxLib.MxHost.DynamicCall(a,b);if(3==arguments.length)return mxLib.MxHost.DynamicCall(a,b,arguments[2]);if(4==arguments.length)return mxLib.MxHost.DynamicCall(a,b,arguments[2],arguments[3]);if(5==arguments.length)return mxLib.MxHost.DynamicCall(a,b,arguments[2],arguments[3],arguments[4]);if(6==arguments.length)return mxLib.MxHost.DynamicCall(a,b,arguments[2],arguments[3],arguments[4],arguments[5]);if(7==arguments.length)return mxLib.MxHost.DynamicCall(a,b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);if(8==arguments.length)return mxLib.MxHost.DynamicCall(a,b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);if(9==arguments.length)return mxLib.MxHost.DynamicCall(a,b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);if(10==arguments.length)return mxLib.MxHost.DynamicCall(a,b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9])};b.querySubObject=function(a,b){if(2==arguments.length)return mxLib.MxHost.QuerySubObject(a,b);if(3==arguments.length)return mxLib.MxHost.QuerySubObject(a,b,arguments[2]);if(4==arguments.length)return mxLib.MxHost.QuerySubObject(a,b,arguments[2],arguments[3]);if(5==arguments.length)return mxLib.MxHost.QuerySubObject(a,b,arguments[2],arguments[3],arguments[4]);if(6==arguments.length)return mxLib.MxHost.QuerySubObject(a,b,arguments[2],arguments[3],arguments[4],arguments[5]);if(7==arguments.length)return mxLib.MxHost.QuerySubObject(a,b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);if(8==arguments.length)return mxLib.MxHost.QuerySubObject(a,b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);if(9==arguments.length)return mxLib.MxHost.QuerySubObject(a,b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);if(10==arguments.length)return mxLib.MxHost.QuerySubObject(a,b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9])};b.setAxProperty=function(a,b,c){return mxLib.MxHost.SetAxProperty(a,b,c)};b.queryAxProperty=function(a,b){return mxLib.MxHost.QueryAxProperty(a,b)};b.delAxObject=function(a){return mxLib.MxHost.DelAxObject(a,a)};b.openFileNameDialog=function(a,b,c){return mxLib.MxHost.OpenFileNameDialog(a,b,c)};b.isRealEqual=function(a,b){return mxLib.MxHost.IsRealEqual(a,b)};b.readFileContent=function(a){return mxLib.MxHost.ReadFileContent(a)};b.wirteFileContent=function(a,b,c){return mxLib.MxHost.WirteFileContent(a,b,c||!1)};b.getFileSize=function(a){return mxLib.MxHost.GetFileSize(a)};b.setExtData=function(a,b){mxLib.MxHost&&mxLib.MxHost.SetData?mxLib.MxHost.SetData(a,b):(this.extData||(this.extData={}),this.extData[a]=b)};b.getExtData=function(a){return mxLib.MxHost&&mxLib.MxHost.GetData?mxLib.MxHost.GetData(a):this.extData?this.extData[a]:""};b.hasExtDataKey=function(a){return mxLib.MxHost.HasKey(a)};b.getExtDataKeys=function(a){return mxLib.MxHost.GetDataKeyListString(a)};b.removeExtDataKey=function(a){return mxLib.MxHost.RemoveDataKey(a)};b.getVersion=function(){return mxLib.MxHost.GetVersion()};b.activeViewByName=function(a){return mxLib.MxHost.ActiveViewByName(a)};b.closeViewByName=function(a){return mxLib.MxHost.CloseViewByName(a)}})();